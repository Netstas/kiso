@{
    ViewData["Title"] = "Productdetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

<div class="product-detail">
    <div class="product-deltail-title">
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
            <ol class="breadcrumb m-0">
                <li class="breadcrumb-item"><a href="/" class="text-black"><i class="fa-solid fa-house"></i></a></li>
                <li class="breadcrumb-item active" aria-current="page">
                    Đèn thả văn phòng
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    @ViewBag.dbpd.Name
                </li>
            </ol>
        </nav>
    </div>
    <div class="product-deltail-content">
        <form asp-action="AddToCart" method="post">
            <div class="product-deltail-content-top d-flex">
                <div class="product-deltail-left d-flex">
                    <div class="product-content-img-small pe-3">
                        @if (ViewBag.dbpd != null && ViewBag.dbpd.ListImage != null)
                        {
                            var images = ViewBag.dbpd.ListImage.Split(',');

                            foreach (var image in images)
                            {
                                <div class="mb-2">
                                    <img src="~/uploads/@image" class="small" />
                                </div>
                            }
                        }
                    </div>

                    @if (ViewBag.dbpd != null && ViewBag.dbpd.ListImage != null)
                    {
                        var images = ViewBag.dbpd.ListImage.Split(',');

                        if (images.Length > 0)
                        {
                            <div class="product-content-img-big">
                                <img src="~/uploads/@images[0]" class="big" />
                            </div>
                        }
                    }
                </div>
                <div class="product-deltail-content-right ps-3 w-100">
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="product-deltail-content-right-title">@ViewBag.dbpd.Name</h2>
                        <div class="product-deltail-content-right-status">còn hàng</div>
                    </div>
                    <div class="product-deltail-content-right-code"> Mã SP: @ViewBag.dbpd.MaSp </div>
                    <div class="product-deltail-content-right-price d-flex">
                        <h3 class="product-deltail-content-right-sale"> @ViewBag.dbpd.PriceSale</h3>
                        <div class="product-deltail-content-right-cost"> <del> @ViewBag.dbpd.Price (-30%) </del></div>
                    </div>
                    <ul class="product-deltail-content-right-menu">
                        <li class="d-flex product-deltail-content-right-chill">
                            <div class="item">Công suất:</div>
                            <div>30W</div>
                        </li>
                        <li class="d-flex product-deltail-content-right-chill">
                            <div class="item">Điện áp:</div>
                            <div>220VAC</div>
                        </li>
                        <li class="d-flex product-deltail-content-right-chill">
                            <div class="item">Chỉ số hoàn màu:</div>
                            <div>CRI>80Ra</div>
                        </li>
                        <li class="d-flex product-deltail-content-right-chill">
                            <div class="item">Bảo hành:</div>
                            <div>2 năm</div>
                        </li>
                    </ul>
                    <div class="d-flex">
                        <strong class="number me-3">Số lượng:</strong>
                        <div>
                            <input type="hidden" name="productId" value="@ViewBag.dbpd.Id" />
                            <div class="product-deltail-content-right-stepper">
                                <input type="button" class="product-deltail-content-right-shared minus" value="-" />
                                <input type="number" name="Count" class="product-deltail-content-right-shared number-stepper" value="1" min="1" max="100" maxlength="100" inputmode="numeric" />
                                <input type="button" class="product-deltail-content-right-shared plus" value="+" />
                            </div>
                        </div>

                    </div>
                    <div class="mt-3 mb-3">
                        <button type="submit" class="product-deltail-content-right-add">Thêm vào giỏ hàng</button>
                        <button class="product-deltail-content-right-contact">Liên hệ tư vấn</button>
                    </div>
                    <div class="d-flex">
                        <img src="~/image/icon/icon8.svg" class="pe-2" />
                        <div>
                            <strong>BẢO HÀNH CHÍNH HÃNG</strong>
                            <div>Sản phẩm được bảo hành chính hãng 2 năm.</div>
                        </div>
                    </div>
                    <div class="d-flex">
                        <img src="~/image/icon/icon9.svg" class="pe-2" />
                        <div>
                            <strong>BẢO HÀNH CHÍNH HÃNG</strong>
                            <div>Sản phẩm được bảo hành chính hãng 2 năm.</div>
                        </div>
                    </div>
                </div>

            </div>
        </form>
    </div>

    <div class="product-deltail-question d-flex mt-5">
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Accordion Item #1
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Accordion Item #2
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Accordion Item #3
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="home-led">
        <div class="d-flex justify-content-between">
            <h1 class="home-led-title">sản phẩm tương tự</h1>
            <a href="#" class="show_all">Xem tất cả 817 Đèn Trang trí ></a>
        </div>
        <div class="carousel">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>
    <div class="home-led">
        <div class="d-flex justify-content-between">
            <h1 class="home-led-title">sản phẩm đã xem</h1>
            <a href="#" class="show_all">Xem tất cả 817 Đèn Trang trí ></a>
        </div>
        <div class="carousel">
            <div class="swiper mySwipers">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="home-product-box">
                            <div class="home-product-sale">
                                13%
                            </div>
                            <div class="home-product-img">
                                <img src="~/image/product/rectangle.svg" class="home-product-image" />
                            </div>
                            <div class="home-product-name">
                                <a href="#" class="w-100 text-black text-decoration-none">
                                    Đèn mâm pha lê CH-HT-M9225
                                </a>
                            </div>
                            <div class="home-product-price">
                                <strong>
                                    1.200.000đ
                                </strong>
                                -
                                <del class="home-product-price-origin">
                                    1.300.000đ
                                </del>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 5,
        spaceBetween: 15,
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        loop: true,
    });
    var swipers = new Swiper(".mySwipers", {
        slidesPerView: 5,
        spaceBetween: 15,
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        loop: true,
    });
    $(document).ready(function () {
        $(".product-content-img-small img").click(function () {
            var smallImageSrc = $(this).attr("src");

            $(".product-content-img-big img").removeClass("show-image").addClass("hide-image");
            $(".product-content-img-big img").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function () {
                $(this).attr("src", smallImageSrc);
                $(this).removeClass("hide-image").addClass("show-image");
            });
        });
    });
    $(document).ready(function () {
        // Xử lý sự kiện click trên nút "-"
        $(".product-deltail-content-right-stepper .minus").click(function () {
            var $numberStepper = $(this).siblings(".number-stepper");
            var currentValue = parseInt($numberStepper.val());

            // Giảm giá trị số lượng nếu giá trị hiện tại lớn hơn 1
            if (currentValue > 1) {
                $numberStepper.val(currentValue - 1);
            }
        });

        // Xử lý sự kiện click trên nút "+"
        $(".product-deltail-content-right-stepper .plus").click(function () {
            var $numberStepper = $(this).siblings(".number-stepper");
            var currentValue = parseInt($numberStepper.val());

            // Tăng giá trị số lượng
            $numberStepper.val(currentValue + 1);
        });
    });
</script>